(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){e.exports=n(281)},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},168:function(e,t){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},279:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(39),o=n.n(c),l=n(8),s=n(9),u=n(12),i=n(10),p=n(11),m=n(26),d=(n(111),function(e){var t=e.children;return r.a.createElement("div",{className:"container-fluid"},t)}),f=(n(112),function(e){e.links,e.location;return r.a.createElement("h1",{className:"logo"},"Blog.app")}),h=n(25),E=(n(113),function(e){var t=e.links,n=e.location;return r.a.createElement("ul",{className:"main-menu"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(h.b,{className:n.pathname===e.path?"active":"",to:e.path},e.title))})))}),v=Object(m.e)((function(e){return r.a.createElement(E,e)})),g=(n(119),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={links:[{path:"/",title:"Home"},{path:"/posts/new",title:"Add post"},{path:"/posts/random",title:"Random post"},{path:"/posts",title:"Posts"},{path:"/contact",title:"Contact"}]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.links;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(f,null),r.a.createElement(v,{links:e}))}}]),t}(r.a.Component)),b=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(g,null),t,r.a.createElement(d,null))},O=(n(120),function(e){var t=e.children;return r.a.createElement("h1",{className:"page-title"},t)}),j=n(19),P=n(54),y=n(20),_=n(3),k=n.n(_),N=n(34),S=n(35),w=n.n(S),x="https://maciekreactblog.herokuapp.com",R=function(e){return e.posts.request},q=function(e){var t=e.posts;return Math.ceil(t.amount/t.postsPerPage)},C=function(e){return"app/".concat("posts","/").concat(e)},A=C("LOAD_POSTS"),D=C("START_REQUEST"),T=C("END_REQUEST"),I=C("ERROR_REQUEST"),U=C("LOAD_SINGLE_POST"),L=C("RESET_REQUEST"),B=C("LOAD_POSTS_PAGE"),M=C("LOAD_RANDOM_POST"),F=function(){return{type:D}},Q=function(){return{type:T}},W=function(e){return{error:e,type:I}},X=function(){return{type:L}},G=function(e){return{payload:e,type:B}},J={data:[],singlePost:null,randomPost:null,request:{pending:!1,error:null,success:null},amount:0,postsPerPage:10,presentPage:1};var V=n(24),H=(n(141),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(V.a)(e,["variant","children"]);return r.a.createElement("button",Object.assign({},c,{className:"button button--".concat(n)}),a)}),K=(n(142),function(e){var t=e.children,n=Object(V.a)(e,["children"]);return r.a.createElement("h2",Object.assign({},n,{className:"small-title"}),t)}),Y=(n(143),n(103)),z=n.n(Y),Z=function(e){var t=e.children,n=Object(V.a)(e,["children"]);return r.a.createElement("div",Object.assign({},n,{className:"html-box"}),z()(t))},$=function(e,t){if(e.length<1)return"Error";if(e.length<=t)return e;var n=e.substr(0,t-"...".length),a=n.lastIndexOf(" "),r=n.substr(0,a);return"".concat(r).concat("...")},ee=function(e){var t=e.id,n=e.title,a=e.author,c=e.content;return r.a.createElement("article",{className:"post-summary"},r.a.createElement(K,null,n),r.a.createElement("p",null,"Author: ",a),r.a.createElement(Z,null,$(c,250)),r.a.createElement(H,{variant:"primary"},r.a.createElement(h.b,{to:"/posts/".concat(t)},"Read more")))},te=function(e){var t=e.posts;return r.a.createElement("div",null,r.a.createElement("section",{className:"posts-list"},t.map((function(e){return r.a.createElement(ee,Object.assign({key:e.id},e))}))))},ne=n(53),ae=(n(237),function(){return r.a.createElement(ne.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),re=n(36),ce=(n(238),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(V.a)(e,["variant","children"]);return r.a.createElement(ne.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",Object.assign({},c,{className:"alert alert--".concat(n)}),function(){switch(n){case"info":return r.a.createElement(re.c,null);case"success":return r.a.createElement(re.a,null);case"warning":case"error":return r.a.createElement(re.b,null);default:return r.a.createElement(re.c,null)}}(),r.a.createElement("span",{className:"alert__desc"},a)))}),oe=n(29),le=(n(239),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={presentPage:n.props.initialPage||1},n.changePage=function(e){var t=n.props.onPageChange;n.setState({presentPage:e}),t(e)},n.changePageUp=function(){var e=n.state.presentPage;(0,Object(oe.a)(n).changePage)(e+1)},n.changePageDown=function(){var e=n.state.presentPage;(0,Object(oe.a)(n).changePage)(e-1)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.pages,t=this.state.presentPage,n=this.changePage,a=this.changePageUp,c=this.changePageDown;return r.a.createElement("div",{className:"pagination"},r.a.createElement("ul",{className:"pagination__list"},t>1&&r.a.createElement("li",{className:"pagination__list__item",onClick:c},"<"),Object(P.a)(Array(e)).map((function(e,a){return r.a.createElement("li",{key:++a,onClick:function(){n(a)},className:"pagination__list__item".concat(a===t?" pagination__list__item--active":"")},a)})),t<e&&r.a.createElement("li",{className:"pagination__list__item",onClick:a},">")))}}]),t}(r.a.Component)),se=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).loadPostsPage=function(e){var t=n.props;(0,t.loadPostsByPage)(e,t.postsPerPage)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadPostsByPage,n=e.initialPage;t(void 0===n?1:n,e.postsPerPage)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetRequest)()}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.request,a=e.error,c=e.pages,o=e.presentPage,l=e.pagination,s=this.loadPostsPage;return r.a.createElement("div",null,(!0===n.pending||null===n.success)&&r.a.createElement(ae,null),!1===n.pending&&!0===n.success&&t.length>0&&r.a.createElement(te,{posts:t}),!1===n.pending&&null!==n.error&&r.a.createElement(ce,{variant:"error"}," ",a," "),!1===n.pending&&!0===n.success&&0===t.length&&r.a.createElement(ce,{variant:"info"}," No posts "),void 0!==l&&r.a.createElement(le,{pages:c,onPageChange:s,initialPage:o}))}}]),t}(r.a.Component),ue=Object(j.b)((function(e){return{posts:(t=e,t.posts.data),request:R(e),pages:q(e)};var t}),(function(e){return{loadPostsByPage:function(t,n){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(function(){var n=Object(N.a)(k.a.mark((function n(a){var r,c,o,l;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(F()),n.prev=1,r=(e-1)*t,c=t,n.next=6,w.a.get("".concat(x).concat("/api","/posts/range/").concat(r,"/").concat(c));case 6:o=n.sent,l={posts:o.data.posts,amount:o.data.amount,postsPerPage:t,presentPage:e},a(G(l)),a(Q()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),a(W(n.t0.message));case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}())}(t,n))},resetRequest:function(){return e(X())}}}))(se),ie=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Blog"),r.a.createElement(ue,{postsPerPage:3}))},pe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.amount,t=e>0?e:"- no posts -";return r.a.createElement("div",null,"Posts amount: ",t," ")}}]),t}(r.a.Component),me=Object(j.b)((function(e){return{amount:(t=e,t.posts.data.length)};var t}))(pe),de=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Posts list"),r.a.createElement(me,null),r.a.createElement(ue,{pagination:!0}))},fe=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Kontakt"),r.a.createElement("p",null,"Your Favourite Blooger Ltd.",r.a.createElement("br",null),"9432 Division Street",r.a.createElement("br",null),"Stone Mountain, GA 30083"),r.a.createElement("p",null,"Mobile Number: 207-914-3411"))},he=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Not Found"))},Ee=n(52),ve=n(104),ge=n.n(ve),be=(n(244),n(245),n(246),function(e){var t=e.value,n=e.label,a=e.onChange,c=Object(V.a)(e,["value","label","onChange"]);return r.a.createElement("label",{className:"text-field"},r.a.createElement("span",{className:"text-field__label ".concat(!t.length>0?"text-field__label--big":"")},n),r.a.createElement("input",Object.assign({},c,{value:t,onChange:a,className:"text-field__input"})))}),Oe=(n(247),function(e){var t=e.children;return r.a.createElement("h2",{className:"section-title"},t)}),je=(n(248),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={post:{title:"",author:"",content:""}},n.handleChange=function(e){var t=n.state.post;n.setState({post:Object(y.a)({},t,Object(Ee.a)({},e.target.name,e.target.value))})},n.handleEditor=function(e){var t=n.state.post;n.setState({post:Object(y.a)({},t,{content:e})})},n.addPost=function(e){var t=n.props.addPost,a=n.state.post;e.preventDefault(),t(a)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.resetRequest)()}},{key:"render",value:function(){var e=this.state.post,t=this.handleChange,n=this.handleEditor,a=this.addPost,c=this.props.request;return c.error?r.a.createElement(ce,{variant:"error"},c.error):c.success?r.a.createElement(ce,{variant:"success"},"Post has been added!"):c.pending?r.a.createElement(ae,null):r.a.createElement("form",{onSubmit:a},r.a.createElement(be,{label:"Title",value:e.title,onChange:t,name:"title"}),r.a.createElement(be,{label:"Author",value:e.author,onChange:t,name:"author"}),r.a.createElement(Oe,null,"Edit post content"),r.a.createElement(ge.a,{className:"content-editor",text:e.content,onChange:n,options:{placeholder:!1,toolbar:{buttons:["bold","italic","underline","anchor","h2","h3"]}}}),r.a.createElement(H,{type:"submit",variant:"primary"},"Add post"))}}]),t}(r.a.Component)),Pe=Object(j.b)((function(e){return{request:R(e)}}),(function(e){return{addPost:function(t){return e(function(e){return function(){var t=Object(N.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F()),t.prev=1,t.next=4,w.a.post("".concat("/api","/posts"),e);case 4:n(Q()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(W(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},resetRequest:function(){return e(X())}}}))(je),ye=function(){return r.a.createElement(Pe,null)},_e=function(e){e.id;var t=e.title,n=e.author,a=e.content;return r.a.createElement("article",{className:"post-summary"},r.a.createElement(Oe,null,t),r.a.createElement("p",null,"Author: ",n),r.a.createElement(Z,null,a))},ke=n(55),Ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).renderLoader=function(e){return(!0===e.pending||null===e.success)&&r.a.createElement(ae,null)},n.renderPost=function(e,t,n){return!1===e.pending&&!0===e.success&&void 0!==t&&null!==t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,{title:t.title,author:t.author,content:t.content}),r.a.createElement(ke.FacebookProvider,{appId:"909115412938215"},r.a.createElement(ke.ShareButton,{href:"".concat(x).concat(n.pathname)},"Share"),r.a.createElement(ke.Comments,{href:"".concat(x).concat(n.pathname)})))},n.renderInfo=function(e,t){return!1===e.pending&&!0===e.success&&(void 0===t||null===t)&&r.a.createElement(ce,{variant:"error"}," Post o takim id nie istnieje! ")},n.renderError=function(e){return!1===e.pending&&null!==e.error&&r.a.createElement(ce,{variant:"error"}," ",n.props.request.error," ")},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadSinglePost)(e.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.resetRequest)()}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.request,a=e.location,c=this.renderLoader(n),o=this.renderPost(n,t,a),l=this.renderInfo(n,t),s=this.renderError(n);return r.a.createElement("div",null,c,o,l,s)}}]),t}(r.a.Component),Se=Object(m.e)((function(e){return r.a.createElement(Ne,e)})),we=Object(j.b)((function(e){return{post:(t=e,t.posts.singlePost),request:R(e)};var t}),(function(e){return{loadSinglePost:function(t){return e(function(e){return function(){var t=Object(N.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F()),t.prev=1,t.next=4,w.a.get("".concat(x).concat("/api","/posts/").concat(e));case 4:a=t.sent,n({payload:a.data,type:U}),n(Q()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(W(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},resetRequest:function(){return e(X())}}}))(Se),xe=function(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement(we,{id:t.params.id}))},Re=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.loadRandomPost)()}},{key:"componentWillUnmount",value:function(){(0,this.props.resetRequest)()}},{key:"render",value:function(){var e=this.props,t=e.randomPost,n=e.request;return r.a.createElement("div",null,n.pending&&r.a.createElement(ae,null)||t&&r.a.createElement(_e,{title:t.title,author:t.author,content:t.content})||r.a.createElement(he,null))}}]),t}(r.a.Component),qe=Object(m.e)(Object(j.b)((function(e){return{randomPost:(t=e,t.posts.randomPost),request:R(e)};var t}),(function(e){return{loadRandomPost:function(){return e(function(){var e=Object(N.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(F()),e.prev=1,e.next=4,w.a.get("".concat(x).concat("/api","/posts/random"));case 4:n=e.sent,t({payload:n.data,type:M}),t(Q()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(W(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())},resetRequest:function(){return e(X())}}}))(Re)),Ce=function(e){e.match;return r.a.createElement("div",null,r.a.createElement(qe,null))},Ae=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(b,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:ie}),r.a.createElement(m.a,{path:"/posts",exact:!0,component:de}),r.a.createElement(m.a,{path:"/contact",exact:!0,component:fe}),r.a.createElement(m.a,{path:"/posts/new",exact:!0,component:ye}),r.a.createElement(m.a,{path:"/posts/random",exact:!0,component:Ce}),r.a.createElement(m.a,{path:"/posts/:id",component:xe}),r.a.createElement(m.a,{component:he})))}}]),t}(r.a.Component),De=(n(279),n(280),n(30)),Te=n(105),Ie=Object(De.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case A:return Object(y.a)({},e,{data:t.payload});case U:return Object(y.a)({},e,{singlePost:t.payload});case M:return Object(y.a)({},e,{randomPost:t.payload});case B:return Object(y.a)({},e,{postsPerPage:t.payload.postsPerPage,presentPage:t.payload.presentPage,amount:t.payload.amount,data:Object(P.a)(t.payload.posts)});case D:return Object(y.a)({},e,{request:{pending:!0,error:null,success:null}});case T:return Object(y.a)({},e,{request:{pending:!1,error:null,success:!0}});case L:return Object(y.a)({},e,{request:{pending:!1,error:null,success:null}});case I:return Object(y.a)({},e,{request:{pending:!1,error:t.error,success:!1}});default:return e}}}),Ue=Object(De.e)(Ie,Object(De.d)(Object(De.a)(Te.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));o.a.render(r.a.createElement((function(){return r.a.createElement(j.a,{store:Ue},r.a.createElement(h.a,null,r.a.createElement(Ae,null)))}),null),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.1109daac.chunk.js.map